{"version":3,"file":"static/js/search.3292a0c1.js","mappings":"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","sources":["webpack://wangyiyun-app/./src/views/Search.vue?ee85","webpack://wangyiyun-app/./src/views/Search.vue","webpack://wangyiyun-app/./src/views/Search.vue?9f0d"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1a083735\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"main\"\n};\nconst _hoisted_2 = {\n  class: \"searchTop\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-fanhui\"\n}, null, -1));\nconst _hoisted_4 = [_hoisted_3];\nconst _hoisted_5 = {\n  class: \"searchHistory\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"searchSpan\"\n}, \"历史\", -1));\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-duoxuan\"\n}, null, -1));\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  class: \"itemList\"\n};\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = {\n  class: \"leftSpan\"\n};\nconst _hoisted_13 = {\n  class: \"itemRight\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"icon bofang\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-a-24gl-playSquare\"\n}, null, -1));\nconst _hoisted_16 = [_hoisted_15];\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"icon liebiao\",\n  \"aria-hidden\": \"true\"\n}, [/*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-a-31liebiao\"\n})], -1));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(), _createElementBlock(\"svg\", {\n    class: \"icon\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.go(-1))\n  }, _hoisted_4)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"张杰\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.searchKey = $event),\n    onKeyup: _cache[2] || (_cache[2] = _withKeys((...args) => $options.enterKey && $options.enterKey(...args), [\"enter\"]))\n  }, null, 544), [[_vModelText, $data.searchKey]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.keyWordList, item => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      key: item,\n      class: \"spanKey\",\n      onClick: $event => $options.searchByHistory(item)\n    }, _toDisplayString(item), 9, _hoisted_7);\n  }), 128)), (_openBlock(), _createElementBlock(\"svg\", {\n    class: \"icon\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.clearSearchHistory && $options.clearSearchHistory(...args))\n  }, _hoisted_9))]), _createElementVNode(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.songList, (item, i) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"item\",\n      key: i\n    }, [_createElementVNode(\"div\", {\n      class: \"itemLeft\",\n      onClick: $event => $options.playMusic(item)\n    }, [_createElementVNode(\"span\", _hoisted_12, _toDisplayString(i + 1), 1), _createElementVNode(\"div\", null, [_createElementVNode(\"p\", null, _toDisplayString(item.name), 1), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.ar, (item1, index) => {\n      return _openBlock(), _createElementBlock(\"span\", {\n        key: index\n      }, _toDisplayString(item1.name), 1);\n    }), 128))])], 8, _hoisted_11), _createElementVNode(\"div\", _hoisted_13, [item.mv != 0 ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_14, _hoisted_16)) : _createCommentVNode(\"\", true), _hoisted_17])]);\n  }), 128))])]);\n}","import \"core-js/modules/es.array.unshift.js\";\nimport { getSearchResult } from \"@/request/api/home.js\";\nimport { mapMutations, mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      keyWordList: [],\n      searchKey: \"\",\n      songList: []\n    };\n  },\n  mounted() {\n    if (localStorage.getItem(\"keyWordList\") !== null) {\n      this.keyWordList = JSON.parse(localStorage.getItem(\"keyWordList\"));\n    }\n  },\n  methods: {\n    enterKey: async function () {\n      if (this.searchKey !== \"\") {\n        this.keyWordList.unshift(this.searchKey);\n        //去重\n        this.keyWordList = [...new Set(this.keyWordList)];\n        //固定长度\n        if (this.keyWordList.length > 10) {\n          this.keyWordList.splice(this.keyWordList.length - 1, 1);\n        }\n        localStorage.setItem(\"keyWordList\", JSON.stringify(this.keyWordList));\n        let res = await getSearchResult(this.searchKey);\n        this.songList = res.data.result.songs;\n        this.searchKey = \"\";\n      }\n    },\n    clearSearchHistory: function () {\n      this.keyWordList = [];\n      localStorage.removeItem(\"keyWordList\");\n    },\n    searchByHistory: async function (item) {\n      let res = await getSearchResult(item);\n      this.songList = res.data.result.songs;\n    },\n    playMusic: function (item) {\n      this.updatePlayList(item);\n      console.log(item);\n      this.updatePlayListIndex(this.$store.state.playList.length - 1);\n    },\n    ...mapMutations([\"updatePlayList\", \"updatePlayListIndex\"])\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./Search.vue?vue&type=template&id=1a083735&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport \"./Search.vue?vue&type=style&index=0&id=1a083735&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\java项目\\\\网易云音乐\\\\wangyiyun-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a083735\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","key","_hoisted_15","_hoisted_16","_hoisted_17","render","_ctx","_cache","$props","$setup","$data","$options","onClick","$event","$router","go","type","placeholder","searchKey","onKeyup","args","enterKey","keyWordList","item","searchByHistory","clearSearchHistory","songList","i","playMusic","name","ar","item1","index","mv","data","mounted","localStorage","getItem","this","JSON","parse","methods","async","unshift","Set","length","splice","setItem","stringify","res","result","songs","removeItem","updatePlayList","console","log","updatePlayListIndex","$store","state","playList","__exports__"],"sourceRoot":""}