"use strict";(self["webpackChunkwangyiyun_app"]=self["webpackChunkwangyiyun_app"]||[]).push([[234],{7587:function(t,s,e){e.r(s),e.d(s,{default:function(){return gt}});var i=e(5618),a=(e(9650),e(9812)),n=e(5893);const l=t=>((0,a.dD)("data-v-679e388a"),t=t(),(0,a.Cn)(),t),o={class:"itemMusicList"},c={class:"itemListTop"},r={class:"listLeft"},u={class:"listRight"},d={class:"itemList"},m=["onClick"],v={class:"leftSpan"},p={class:"itemRight"},g={key:0,class:"icon bofang","aria-hidden":"true"},h=l((()=>(0,a._)("use",{"xlink:href":"#icon-a-24gl-playSquare"},null,-1))),_=[h],y=l((()=>(0,a._)("svg",{class:"icon liebiao","aria-hidden":"true"},[(0,a._)("use",{"xlink:href":"#icon-a-31liebiao"})],-1)));function f(t,s,e,l,h,f){const b=i.kF;return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",c,[(0,a._)("div",r,[(0,a._)("span",{onClick:s[0]||(s[0]=t=>f.playAllMusic())}," 播放全部 (共"+(0,n.zw)(e.itemList.length)+"首)",1)]),(0,a._)("div",u,[(0,a._)("span",null,"收藏"+(0,n.zw)(e.subscribedCount),1)])]),(0,a._)("div",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.itemList,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"item",key:s},[(0,a._)("div",{class:"itemLeft",onClick:s=>f.playMusic(t)},[(0,a._)("span",v,(0,n.zw)(s+1),1),(0,a._)("div",null,[(0,a._)("p",null,(0,n.zw)(t.name),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.ar,((t,s)=>((0,a.wg)(),(0,a.iD)("span",{key:s},(0,n.zw)(t.name),1)))),128))])],8,m),(0,a._)("div",p,[0!=t.mv?((0,a.wg)(),(0,a.iD)("svg",g,_)):(0,a.kq)("",!0),y])])))),128)),(0,a.Wm)(b,{bottom:"10vh"})])])}var b=e(2357),w={name:"ItemMusicList",setup(t){console.log(t)},methods:{playMusic:function(t){this.updatePlayList(t),this.incrementPlayListIndex()},playAllMusic:function(){console.log(this.itemList),this.updateAllPlayList(this.itemList)},incrementPlayListIndex:function(){this.updatePlayIndex(this.playList.length-1)},...(0,b.OI)(["updateAllPlayList","updatePlayList","updatePlayIndex"])},props:["itemList","subscribedCount"],computed:{...(0,b.rn)(["playListIndex","playList"])}},k=e(8998);const C=(0,k.Z)(w,[["render",f],["__scopeId","data-v-679e388a"]]);var L=C,x=e(9308);e(1799);const I=t=>((0,a.dD)("data-v-07b776e0"),t=t(),(0,a.Cn)(),t),z={class:"itemMusicTop"},D={class:"musicCommentList"},M={class:"singleItem"},P={class:"commentDetail"},O=["src"],T={class:"userName"},A={class:"userComment"},S={class:"sendedTime"},W=["src"],j={class:"itemLeft"},F=I((()=>(0,a._)("use",{"xlink:href":"#icon-fanhui"},null,-1))),H=[F],R=I((()=>(0,a._)("span",null,"歌单",-1))),q=(0,a.uE)('<div class="itemRight" data-v-07b776e0><svg class="icon" aria-hidden="true" data-v-07b776e0><use xlink:href="#icon-sousuo" data-v-07b776e0></use></svg><svg class="icon" aria-hidden="true" data-v-07b776e0><use xlink:href="#icon-a-31liebiao" data-v-07b776e0></use></svg></div>',1),Y={class:"itemTopContent"},E={class:"contentLeft"},N=["src"],U={class:"palyCount"},Z=I((()=>(0,a._)("svg",{class:"icon","aria-hidden":"true"},[(0,a._)("use",{"xlink:href":"#icon-bofang"})],-1))),K={class:"contentRight"},B={class:"rightP_one"},G={class:"right_img"},J=["src"],V=I((()=>(0,a._)("svg",{class:"icon","aria-hidden":"true"},[(0,a._)("use",{"xlink:href":"#icon-youjiantou"})],-1))),$={class:"rightP_two"},Q=I((()=>(0,a._)("svg",{class:"icon","aria-hidden":"true"},[(0,a._)("use",{"xlink:href":"#icon-youjiantou"})],-1))),X={class:"itemTopFooter"},tt=I((()=>(0,a._)("svg",{class:"icon","aria-hidden":"true"},[(0,a._)("use",{"xlink:href":"#icon-pinglun1"})],-1))),st={class:"footerItem"},et=I((()=>(0,a._)("svg",{class:"icon","aria-hidden":"true"},[(0,a._)("use",{"xlink:href":"#icon-fenxiang1"})],-1))),it=(0,a.uE)('<div class="footerItem" data-v-07b776e0><svg class="icon" aria-hidden="true" data-v-07b776e0><use xlink:href="#icon-xiazai1" data-v-07b776e0></use></svg><span data-v-07b776e0>下载</span></div><div class="footerItem" data-v-07b776e0><svg class="icon" aria-hidden="true" data-v-07b776e0><use xlink:href="#icon-duoxuan1" data-v-07b776e0></use></svg><span data-v-07b776e0>多选</span></div>',2);function at(t,s,e,i,l,o){const c=x.aV;return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",z,[(0,a._)("div",D,[(0,a.Wm)(c,{show:l.showComment,onClick:s[0]||(s[0]=t=>l.showComment=!1)},{default:(0,a.w5)((()=>[(0,a._)("div",M,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.musicComments,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"commentList",key:s},[(0,a._)("div",P,[(0,a._)("img",{src:t.user.avatarUrl,class:"userAvatar"},null,8,O),(0,a._)("p",T,(0,n.zw)(t.user.nickname),1),(0,a._)("p",A,(0,n.zw)(t.content),1),(0,a._)("p",S,(0,n.zw)(t.timeStr),1)])])))),128))])])),_:1},8,["show"])]),(0,a._)("img",{src:e.playlist.coverImgUrl,alt:"",class:"bgimg"},null,8,W),(0,a._)("div",j,[((0,a.wg)(),(0,a.iD)("svg",{class:"icon","aria-hidden":"true",onClick:s[1]||(s[1]=s=>t.$router.go(-1))},H)),R]),q]),(0,a._)("div",Y,[(0,a._)("div",E,[(0,a._)("img",{src:e.playlist.coverImgUrl,alt:""},null,8,N),(0,a._)("div",U,[Z,(0,a._)("span",null,(0,n.zw)(i.changeCount(e.playlist.playCount)),1)])]),(0,a._)("div",K,[(0,a._)("p",B,(0,n.zw)(e.playlist.name),1),(0,a._)("div",G,[(0,a._)("img",{src:e.playlist.creator.backgroundUrl,alt:""},null,8,J),(0,a._)("span",null,(0,n.zw)(e.playlist.creator.nickname),1),V]),(0,a._)("p",$,[(0,a._)("span",null,(0,n.zw)(e.playlist.description),1),Q])])]),(0,a._)("div",X,[(0,a._)("div",{class:"footerItem",onClick:s[2]||(s[2]=(...t)=>o.getMusicComment&&o.getMusicComment(...t))},[tt,(0,a._)("span",null,(0,n.zw)(e.playlist.commentCount),1)]),(0,a._)("div",st,[et,(0,a._)("span",null,(0,n.zw)(e.playlist.shareCount),1)]),it])])}var nt=e(5263),lt={setup(t){function s(t){return t>=1e8?(t/1e8).toFixed(1)+"亿":t>=1e4?(t/1e4).toFixed(1)+"万":void 0}return t.playlist.creator="",{changeCount:s}},methods:{getMusicComment:async function(){this.showComment=!0,console.log(this.playlist),this.musicComments=(await(0,nt.D9)(this.playlist.id)).data.comments,console.log(this.musicComments)}},data(){return{showComment:!1,musicComments:[]}},props:["playlist"]};const ot=(0,k.Z)(lt,[["render",at],["__scopeId","data-v-07b776e0"]]);var ct=ot;function rt(t,s,e,i,n,l){const o=ct,c=L;return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{playlist:i.state.playList},null,8,["playlist"]),(0,a.Wm)(c,{itemList:i.state.itemList,subscribedCount:i.state.playList.subscribedCount},null,8,["itemList","subscribedCount"])])}var ut=e(644),dt=e(521),mt=e(1143),vt={setup(){const t=(0,dt.qj)({playList:{},itemList:[]});return(0,a.bv)((async()=>{let s=(0,ut.yj)().query.id,e=await(0,mt.tM)(s),i=await(0,mt.fN)(s);t.itemList=i.data.songs,t.playList=e.data.playlist})),{state:t}},components:{ItemMusicTop:ct,ItemMusicList:L}};const pt=(0,k.Z)(vt,[["render",rt]]);var gt=pt},5618:function(t,s,e){e.d(s,{kF:function(){return y}});var i=e(8551),a=e(9812),n=e(521),l=e(5109),o=e(102),c=e(407),r=e(3889),u=e(2649),d=(e(7658),e(6635));d._f&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&window.IntersectionObserverEntry.prototype;function m(t,s){let e=null,i=0;return function(...a){if(e)return;const n=Date.now()-i,l=()=>{i=Date.now(),e=!1,t.apply(this,a)};n>=s?l():e=setTimeout(l,s)}}var v=e(9207);const[p,g]=(0,l["do"])("back-top"),h={right:o.Or,bottom:o.Or,zIndex:o.Or,target:[String,Object],offset:(0,o.SI)(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var _=(0,a.aZ)({name:p,inheritAttrs:!1,props:h,emits:["click"],setup(t,{emit:s,slots:e,attrs:i}){const l=(0,n.iH)(!1),o=(0,n.iH)(),p=(0,n.iH)(),h=(0,a.Fl)((()=>(0,c.l7)((0,r.As)(t.zIndex),{right:(0,r.Nn)(t.right),bottom:(0,r.Nn)(t.bottom)}))),_=e=>{var i;s("click",e),null==(i=p.value)||i.scrollTo({top:0,behavior:t.immediate?"auto":"smooth"})},y=()=>{l.value=!!p.value&&(0,u.cx)(p.value)>=+t.offset},f=()=>{const{target:s}=t;if("string"!==typeof s)return s;{const t=document.querySelector(s);if(t)return t;0}},b=()=>{c._f&&(0,a.Y3)((()=>{p.value=t.target?f():(0,d.rP)(o.value),y()}))};return(0,d.OR)("scroll",m(y,100),{target:p}),(0,a.bv)(b),(0,a.YP)((()=>t.target),b),()=>{const s=(0,a.Wm)("div",(0,a.dG)({ref:o,class:g({active:l.value}),style:h.value,onClick:_},i),[e.default?e.default():(0,a.Wm)(v.JO,{name:"back-top",class:g("icon")},null)]);return t.teleport?(0,a.Wm)(a.lR,{to:t.teleport},{default:()=>[s]}):s}}});const y=(0,i.n)(_)},9650:function(t,s,e){e(9246),e(7255),e(2069)}}]);
//# sourceMappingURL=itemMusic.a555a2d0.js.map